# Ошибки в классе Program.cs

1. Структурирование кода (логическое разбиение на методы):
 - **Ошибка**: в исходном коде часть логики программы находилась в Main(), что делало код менее читаемым _(Рисунок №1)_.
 <img src="image.png" width="100%">
 Рисунок №1
 - **Исправление**: в конечном коде логика была разбита на отдельные методы ReadInteger(), InitializeArray(), ReadGraphFromFile(), PrintGraph(), что улучшает читаемость кода _(Рисунок №2)_.
 <img src="image-1.png" width="100%">
 Рисунок №2

 2. Нарушение принципа «Не повторяйся»:
- **Ошибка**: в исходном коде инициализации массивов Pdestin и Pdepar дублировался _(Рисунок №3)_.
<img src="image-3.png" width="100%">
Рисунок №3
- **Исправление**: в конечном коде создан метод InitializeArray(), который выполняет эту задачу _(Рисунок №4)_.
<img src="image-2.png" width="100%">
Рисунок №4

3. Неинформативные названия классов, методов и переменных:
- **Ошибка**: в исходном коде использовался объект (класс) MDeyk и метод Deyk(), а также переменные (например, destin, Pdestin), что неясно указывает на их предназначение _(Рисунок №5)_.
<img src="image-4-1.png" width="100%">
Рисунок №5
- **Исправление**: в конечном коде переименовано в ClassForMethodDeykstry и MethodDeykstry() _(Рисунок №6)_.
<img src="image-5.png" width="100%">
Рисунок №6

4. Отсутствие обработок исключений:
- **Ошибка**: в исходном коде не было проверки на корректность ввода чисел, использование int.Parse() для преобразования переменной к типу данных int без проверки и необработанные ошибки при чтении файла _(Рисунок №7)_.
<img src="image-6.png" width="100%">
Рисунок №7
- **Исправление**: в конечном коде использован метод ReadInteger(), который проверяет ввод с помощью int.TryParse() и выбрасывает InvalidInputException при ошибке _(Рисунок №8)_. Проверяется line == null и выбрасывается FileReadException. Также перед парсингом проверяется, совпадает ли количество элементов в строке с ожидаемым _(Рисунок №9)_.
<img src="image-4.png" width="100%">
Рисунок №8
<img src="image-7.png" width="100%">
Рисунок №9

# Ошибки в классе ClassForMethodDeykstry.cs
1. Отсутствие проверки выхода за границы массива:
- **Ошибка**: в исходном коде start вводился без проверки, что могло привести к IndexOutOfRangeException, если пользователь вводил число, выходящее за границы массива _(Рисунок №10)_.
<img src="image-8.png" width="100%">
Рисунок №10.
- **Исправление**: в конечном коде введена проверка в InitializeDistances(), и при выходе за границы выбрасывается OutOfBoundsException _(Рисунок №11)_.
<img src="image-9.png" width="100%">
Рисунок №11.

2. Использование больших чисел:
- **Ошибка**: в исходном коде int.MaxValue использовался без пояснения. _(Рисунок №12)_.
<img src="image-10.png" width="100%">
Рисунок №12.
- **Исправление**: в конечном коде этот же механизм оставлен, но теперь он четко привязан к логике метода InitializeDistances() _(Рисунок №13)_.
<img src="image-9.png" width="100%">
Рисунок №13.

- **Остальная часть кода** в это классе имела такие же типы ошибок как и в классе Program.cs, а именно: 
    - повторение кода:
        - поиск минимального расстояния и обновление расстояний находились внутри Deyk()
        - теперь эта логика выделена в отдельные методы GetMinDistanceIndex() и UpdateDistances();
    - неинформативные наименования переменных, например, метод Deyk();
    - необработанные исключения:
        - InvalidInputException (ошибки ввода);
        - OutOfBoundsException (выход за границы массива);
        - Exception (другие неожиданные ошибки).